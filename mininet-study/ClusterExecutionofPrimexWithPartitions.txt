1. Get Cluster machines with primogeni OS image(enable portals) 
   a) Setting up a machine (Cluster Node)   https://www.primessf.net/bin/view/Main/PGCCreatingOSImage
   b) Tips for compiling Primex with Portals  https://www.primessf.net/bin/view/Main/SettingPortalOpenvpn

2. We create a simple topology with three pcs connected with a lan
	pc1 10.10.1.1
	pc2 10.10.1.2
	pc3 10.10.1.3

	pc1----------lan0--------pc2
	             |
	             |
	             |
	            pc3
//	Make sure that pcs can ssh/ping each other by IP address/hostname


3. Creating TLV file(Go to a empty directory):
	a) No Partition(Default): 
	% java -jar /primex/primogeni/netscript/dist/jprime.jar create foobar /primex/primogeni/netscript/test/java_models/MySecondJavaModel.java
	b) Two partition(2::*:1  means two partitions with each of the partitions with single processor-- Use: n::*:1 for  n partitions):
	% java -DPART_STR="2::*:1" -jar /primex/primogeni/netscript/dist/jprime.jar create foobar /primex/primogeni/netscript/test/java_models/MySecondJavaModel.java


//You will be able to see the tlv files in the working directory.


4. SCPins the compiled tlvs to /primex/exps/MyExptFolder (Create the folder if it doesnt exist)
ssh to pc2 and pc3
 % scp all .tlv and .xml files of the working directory to /primex/exps/MyExptFolder at 10.10.1.2 and 10.10.1.3
 % scp *.tlv *.xml 10.10.1.3:/primex/exps/MyExptFolder/

5. Create machineFile(/primex/machineFile)  with the IPs of the slaves(pc2,pc3)-Following content:
10.10.1.2:1
10.10.1.3:1



6. cd to /

7. Running tlv file from the master machine (pc1)
	 % /usr/mpich/bin/mpiexec -f /primex/machineFile -n 1 /primex/primogeni/netsim/primex -enable_state_stream 30 /primex/exps/MyExptFolder/foobar_part_1.tlv : -n 1 /primex/primogeni/netsim/primex -enable_state_stream 30 /primex/exps/MyExptFolder/foobar_part_2.tlv -v /primex/exps/MyExptFolder/runtime_symbols.txt

You should be able to see the simulator results at this point.
